name: Build Project
description: Checks out, restores and builds the project.

inputs:
  additional-build-args:
    description: Additional arguments for dotnet build
    required: false

runs:
  using: "composite"
  steps:
    - uses: actions/checkout@v4
      with:
        fetch-depth: 0
        filter: tree:0

    - uses: actions/setup-dotnet@v4
      with:
        dotnet-version: "9.x"

    - name: Restore
      run: |
        dotnet restore --locked-mode
        dotnet tool restore
      shell: bash

    - name: Build
      run: dotnet build -c Release --no-restore ${{ inputs.additional-build-args }}
      shell: bash
